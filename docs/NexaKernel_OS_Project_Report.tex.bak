\documentclass[12pt,a4paper]{article}

% ============================================================================
% PACKAGE IMPORTS
% ============================================================================
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{tocloft}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{enumitem}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{algpseudocode}

% TikZ libraries for flowcharts
\usetikzlibrary{shapes.geometric, arrows.meta, positioning, calc, backgrounds, shadows, patterns}

% PGF plots settings
\pgfplotsset{compat=1.18}

% ============================================================================
% PAGE GEOMETRY AND LAYOUT
% ============================================================================
\geometry{
    a4paper,
    left=1in,
    right=1in,
    top=1in,
    bottom=1in,
    headheight=15pt
}

% ============================================================================
% COLORS DEFINITION
% ============================================================================
\definecolor{primaryblue}{RGB}{0,51,102}
\definecolor{secondaryblue}{RGB}{51,102,204}
\definecolor{accentgreen}{RGB}{34,139,34}
\definecolor{warningorange}{RGB}{255,140,0}
\definecolor{codebg}{RGB}{245,245,245}
\definecolor{codeframe}{RGB}{204,204,204}

% ============================================================================
% HYPERREF SETUP
% ============================================================================
\hypersetup{
    colorlinks=true,
    linkcolor=primaryblue,
    filecolor=primaryblue,
    urlcolor=secondaryblue,
    citecolor=primaryblue,
    pdftitle={NexaKernel: A Modular Operating System from Scratch},
    pdfauthor={NexaKernel Development Team},
    pdfsubject={Operating Systems Project Report},
    pdfkeywords={Operating System, Kernel, x86, Protected Mode, Memory Management, Scheduler}
}

% ============================================================================
% HEADER AND FOOTER
% ============================================================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small\textit{NexaKernel Project Report}}
\fancyhead[R]{\small\textit{Operating Systems Laboratory}}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% First page style
\fancypagestyle{firstpage}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \fancyfoot[C]{\thepage}
}

% ============================================================================
% SECTION FORMATTING
% ============================================================================
\titleformat{\section}
    {\Large\bfseries\color{primaryblue}}
    {\thesection}{1em}{}
    [\titlerule]

\titleformat{\subsection}
    {\large\bfseries\color{secondaryblue}}
    {\thesubsection}{1em}{}

\titleformat{\subsubsection}
    {\normalsize\bfseries\color{secondaryblue}}
    {\thesubsubsection}{1em}{}

% ============================================================================
% CODE LISTING STYLE
% ============================================================================
\lstdefinestyle{cstyle}{
    language=C,
    backgroundcolor=\color{codebg},
    commentstyle=\color{accentgreen},
    keywordstyle=\color{primaryblue}\bfseries,
    numberstyle=\tiny\color{gray},
    stringstyle=\color{warningorange},
    basicstyle=\ttfamily\small,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    frame=single,
    rulecolor=\color{codeframe}
}

\lstset{style=cstyle}

% ============================================================================
% CUSTOM COMMANDS
% ============================================================================
\newcommand{\nexakernel}{\textbf{NexaKernel}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{\textit{#1}}}

